<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sigil Generator</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500&family=UnifrakturCook:wght@700&display=swap" rel="stylesheet">
<style>
body {
  margin: 0;
  background: radial-gradient(circle at center, #0a0a0a 0%, #000 80%);
  color: #e0e0e0;
  font-family: 'Orbitron', sans-serif;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
}

.container {
  text-align: center;
  width: 90%;
  max-width: 600px;
}

h1 {
  font-family: 'UnifrakturCook', cursive;
  font-size: 3em;
  color: #fff;
  text-shadow: 0 0 15px #ff00ff, 0 0 30px #8000ff;
}

.subtitle {
  color: #ccc;
  font-size: 0.9em;
  margin-bottom: 20px;
  letter-spacing: 2px;
}

form {
  display: flex;
  justify-content: center;
  gap: 10px;
  margin-bottom: 30px;
}

input {
  background: transparent;
  border: 2px solid #ff00ff;
  color: #fff;
  padding: 10px 15px;
  border-radius: 8px;
  width: 60%;
  outline: none;
  font-size: 1em;
  text-align: center;
}

button {
  background: linear-gradient(45deg, #8000ff, #ff00ff);
  border: none;
  padding: 10px 20px;
  color: #fff;
  border-radius: 8px;
  cursor: pointer;
  font-weight: bold;
  transition: 0.3s;
}

button:hover {
  transform: scale(1.05);
  box-shadow: 0 0 15px #ff00ff;
}

.sigil-display {
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
}

#sigilCanvas {
  background: transparent;
  border: 2px solid rgba(255, 0, 255, 0.3);
  border-radius: 50%;
  box-shadow: 0 0 30px #ff00ff;
  filter: brightness(1.8) contrast(1.3);
}

.hint {
  font-size: 0.8em;
  color: #888;
  margin-top: 20px;
  font-style: italic;
}
</style>
</head>
<body>
<div class="container">
  <h1>Sigil Generator</h1>
  <p class="subtitle">Manifest your intent into digital form</p>

  <form id="sigilForm">
    <input type="text" id="intentInput" placeholder="Type your intent..." autocomplete="off" />
    <button type="submit">Generate</button>
  </form>

  <div class="sigil-display">
    <canvas id="sigilCanvas" width="400" height="400"></canvas>
  </div>

  <p class="hint">Enter your intent. The digital energy will shape itself accordingly.</p>
</div>

<script>
const form = document.getElementById('sigilForm');
const input = document.getElementById('intentInput');
const canvas = document.getElementById('sigilCanvas');
const ctx = canvas.getContext('2d');

function sanitize(text) {
  return text.toLowerCase().replace(/[^a-z]/g, '');
}

function chaosSimplify(text) {
  const vowels = new Set(['a','e','i','o','u','y']);
  let seen = new Set();
  let out = '';
  for (const ch of text) {
    if(vowels.has(ch)) continue;
    if(seen.has(ch)) continue;
    seen.add(ch);
    out += ch;
  }
  return out || text;
}

function hashChar(ch, seed) {
  return (ch.charCodeAt(0)*131 + seed*97) % 360;
}

function polarToCartesian(cx, cy, r, angle) {
  const rad = angle * Math.PI / 180;
  return {x: cx + r*Math.cos(rad), y: cy + r*Math.sin(rad)};
}

let flicker = 0;

function drawSigil(intent) {
  ctx.clearRect(0,0,canvas.width,canvas.height);
  const sanitized = sanitize(intent);
  if(!sanitized) return;
  const processed = chaosSimplify(sanitized);
  const letters = processed.split('');

  const cx = canvas.width/2;
  const cy = canvas.height/2;
  const radius = 120;

  const seed = Array.from(letters).reduce((a,c,i)=>a + c.charCodeAt(0)*(i+1),0);

  flicker = (flicker + 1) % 60;

  // glow background
  const grad = ctx.createRadialGradient(cx,cy,20,cx,cy,200);
  grad.addColorStop(0,'rgba(255,0,255,0.25)');
  grad.addColorStop(1,'rgba(0,0,0,0)');
  ctx.fillStyle = grad;
  ctx.fillRect(0,0,canvas.width,canvas.height);

  // main sigil lines
  ctx.strokeStyle = `rgba(255,${80+flicker*2},255,0.9)`;
  ctx.lineWidth = 2;
  ctx.shadowBlur = 25;
  ctx.shadowColor = '#ff33ff';

  ctx.beginPath();
  for(let i=0;i<letters.length;i++){
    const angle = hashChar(letters[i], seed + i*11) + flicker*0.5;
    const r = radius + ((seed+i*7)%15 - 7);
    const pt = polarToCartesian(cx, cy, r, angle);
    if(i===0) ctx.moveTo(pt.x, pt.y);
    else ctx.lineTo(pt.x, pt.y);
  }
  ctx.closePath();
  ctx.stroke();

  // ritualistic marks and triangles
  const numMarks = letters.length * 2;
  for(let i=0;i<numMarks;i++){
    const angle = (i*360/numMarks) + (seed%360) + flicker;
    const r1 = radius + 10 + ((seed+i*13)%20);
    const r2 = r1 + 5 + ((seed+i*7)%10);
    const start = polarToCartesian(cx, cy, r1, angle);
    const end = polarToCartesian(cx, cy, r2, angle+((seed+i*5)%15));
    ctx.beginPath();
    ctx.moveTo(start.x, start.y);
    ctx.lineTo(end.x, end.y);
    ctx.strokeStyle = `rgba(255,${100+flicker*2},255,0.8)`;
    ctx.lineWidth = 1.5;
    ctx.shadowBlur = 15;
    ctx.shadowColor = '#ff33ff';
    ctx.stroke();

    // small triangles
    const tri = polarToCartesian(cx, cy, r2+5, angle+((seed+i*3)%20));
    ctx.beginPath();
    ctx.moveTo(tri.x, tri.y);
    ctx.lineTo(tri.x+3, tri.y+6);
    ctx.lineTo(tri.x-3, tri.y+6);
    ctx.closePath();
    ctx.fillStyle = 'rgba(255,0,255,0.6)';
    ctx.fill();
  }

  // inner rings
  const numRings = 3;
  for(let j=1;j<=numRings;j++){
    ctx.beginPath();
    ctx.strokeStyle = `rgba(255,${120+flicker*2*j},255,0.5)`;
    ctx.lineWidth = 1.5;
    ctx.shadowBlur = 15;
    ctx.shadowColor = '#ff33ff';
    ctx.arc(cx, cy, radius*j*0.3, 0, Math.PI*2);
    ctx.stroke();
  }

  // arcs connecting random runes
  for(let k=0;k<letters.length;k++){
    const a1 = hashChar(letters[k], seed+k*13)+flicker*0.3;
    const a2 = a1 + ((seed+k*7)%30)+20;
    const rArc = radius - 10 + ((seed+k*5)%20);
    ctx.beginPath();
    ctx.arc(cx, cy, rArc, a1*Math.PI/180, a2*Math.PI/180);
    ctx.strokeStyle = `rgba(255,${150+flicker},255,0.5)`;
    ctx.lineWidth = 1.2;
    ctx.shadowBlur = 10;
    ctx.shadowColor = '#ff00ff';
    ctx.stroke();
  }

  // central glowing circle
  ctx.beginPath();
  ctx.arc(cx,cy,6,0,Math.PI*2);
  ctx.fillStyle = '#ff66ff';
  ctx.shadowBlur = 30;
  ctx.shadowColor = '#ff33ff';
  ctx.fill();
}

// animation loop
let currentIntent = "Prosperity";
function animate() {
  drawSigil(currentIntent);
  requestAnimationFrame(animate);
}
animate();

form.addEventListener('submit', e=>{
  e.preventDefault();
  const val = input.value.trim();
  if(val) currentIntent = val;
});
</script>
</body>
</html>

